<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Creating connections with music and technology | Damian Walsh</title><meta name="description" content="Building a personal digital music library with Eleventy and APIs"><meta name="generator" content="Eleventy v3.0.0"><meta property="og:title" content="Creating connections with music and technology"><meta property="og:description" content="Building a personal digital music library with Eleventy and APIs"><meta property="og:type" content="website"><meta property="og:url" content="https://damianwalsh.co.uk/posts/creating-connections-with-music-and-technology/"><meta property="og:image" content="https://res.cloudinary.com/damianwalsh/image/upload/s--4ZV_6rtE--/w_1200,h_630,c_fill/l_text:BricolageGrotesqueExtraBold.ttf_72_line_spacing_1:Creating%2520connections%2520with%2520music%2520and%2520technology,co_rgb:ffffff,g_south_west,x_72,y_327,c_fit,w_960/l_text:BricolageGrotesqueLight.ttf_36_line_spacing_1.5:Building%2520a%2520personal%2520digital%2520music%2520library%2520with%2520Eleventy%2520and%2520APIs,co_rgb:afafaf,g_north_west,x_72,y_327,c_fit,w_720/l_text:BricolageGrotesqueBold.ttf_32_letter_spacing_0.4:DAMIANWALSH.CO.UK,co_rgb:afafaf,g_south_west,x_72,y_96/og-background.jpg"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><link rel="icon" href="/img/favicon.ico"><link rel="apple-touch-icon" href="/img/apple-touch-icon.png"><link rel="stylesheet" href="/dist/Mvht0nZm_M.css"><link rel="preload" href="/fonts/BricolageGrotesqueVariable.woff2" as="font" type="font/woff2" crossorigin=""></head><body><a href="#main" class="visually-hidden">Skip to main content</a><header class="site-header surface"><img src="/img/avatar.webp" alt="Damian Walsh" class="logo" width="132" height="132"><div class="site-header__actions"><button class="toggle action" aria-expanded="false" aria-controls="theme" data-target="theme"><svg width="36" height="36" viewBox="-8 -8 40 40" class="icon-stroke" aria-hidden="true"><use xlink:href="#icon-settings"></use></svg><span class="visually-hidden">Theme settings</span></button> <button class="toggle action" aria-expanded="false" aria-controls="main-nav" data-target="main-nav"><svg width="36" height="36" viewBox="-8 -8 40 40" class="icon-stroke" aria-hidden="true"><use xlink:href="#icon-menu"></use></svg><span class="visually-hidden">Menu</span></button></div><nav id="main-nav" aria-label="main" class="hidden"><ul role="list"><li><a href="/">Home</a></li><li><a href="/posts/" class="active">Posts</a></li><li><a href="/music-collection/">Music Collection</a></li><li><a href="/reading-list/">Reading List</a></li></ul></nav><form id="theme" class="hidden"><fieldset><legend>Theme settings</legend><label for="hueSlider">Base Hue <input type="range" id="hueSlider" name="hue" min="0" max="360" value="180" aria-valuemin="0" aria-valuemax="360" aria-valuenow="180" aria-valuetext="180 degrees"><output for="hueSlider" id="hueValue" class="hue-counter">180</output></label><div role="radiogroup" aria-labelledby="theme-selection"><label><input type="radio" name="theme" value="auto" checked="" aria-checked="true" role="radio"> Auto</label> <label><input type="radio" name="theme" value="light" aria-checked="false" role="radio"> Light</label> <label><input type="radio" name="theme" value="dark" aria-checked="false" role="radio"> Dark</label></div></fieldset></form></header><main id="main" class="site-main"><article><header class="main-header"><nav aria-label="breadcrumb"><ul role="list"><li><a href="/posts/">Posts</a></li></ul></nav><h1 id="creating-connections-with-music-and-technology">Creating connections with music and technology</h1><p class="standfirst">Building a personal digital music library with Eleventy and APIs</p><div class="main-header__meta"><p class="meta label"><time datetime="2025-02-25">25 Feb 2025</time> &nbsp;<span class="updated">(Updated <time datetime="2025-03-13">13 Mar 2025</time>)</span></p><ul role="list" class="tags__list"><li><a href="/tags/eleventy/">Eleventy</a></li><li><a href="/tags/digital-gardening/">Digital Gardening</a></li><li><a href="/tags/journalling/">Journalling</a></li></ul></div></header><details><summary><h2 class="title">On this page</h2></summary><nav class="toc" aria-label="toc"><ul><li><a href="#creating-connections-with-music-and-technology">Creating connections with music and technology</a></li><li><a href="#eleventy">Eleventy</a></li><li><a href="#version-1%3A-proof-of-concept">Version 1: Proof of concept</a></li><li><a href="#version-2%3A-memory-boxes">Version 2: Memory boxes</a></li><li><a href="#acknowledgements">Acknowledgements</a></li><li><a href="#footnote">Footnote</a></li></ul></nav></details><div class="prose"><p>Back in December 2024, while I was doing the usual end-of-year contemplation, <a href="https://newsroom.spotify.com/2024-wrapped/">Spotify's annual Wrapped</a> feature arrived, ringing a bell in my mind. I realised my scattershot listening habits on Spotify and the snapshot Wrapped presents failed to capture my changing tastes over time or evoke feelings and memories in the same way as a tangible music collection. Music is a fundamental part of my life—I've always been a fan. My earliest memories are rooted in music, exploring my parents' vinyl collection and watching <a href="https://en.wikipedia.org/wiki/Top_of_the_Pops">Top of the Pops</a>, fascinated by the sounds and imagery. And later, making the rounds of record shops, building my collection, and plastering my teenage bedroom walls with band artwork, portraits, and memorabilia. In a funny sort of way, music was my gateway into design.</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/oUfT7nBfk7-160.avif 160w, /img/cache/oUfT7nBfk7-320.avif 320w, /img/cache/oUfT7nBfk7-480.avif 480w, /img/cache/oUfT7nBfk7-640.avif 640w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><source type="image/webp" srcset="/img/cache/oUfT7nBfk7-160.webp 160w, /img/cache/oUfT7nBfk7-320.webp 320w, /img/cache/oUfT7nBfk7-480.webp 480w, /img/cache/oUfT7nBfk7-640.webp 640w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/oUfT7nBfk7-160.jpeg" alt="An image from the music video; song lyrics relate to the article's theme." width="640" height="493" srcset="/img/cache/oUfT7nBfk7-160.jpeg 160w, /img/cache/oUfT7nBfk7-320.jpeg 320w, /img/cache/oUfT7nBfk7-480.jpeg 480w, /img/cache/oUfT7nBfk7-640.jpeg 640w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"></picture></div><figcaption class="meta"><a href="https://www.youtube.com/watch?v=bDMCwSP5nf0">Always on My Mind</a> by Pet Shop Boys</figcaption></figure><p>At the same time I was thinking about this, I was also feeling generally uninspired about the tech industry’s current direction and its impact on the world—especially compared to earlier visions of the internet. I want to direct my online thinking and doing toward something <em>I believe in.</em> My music collection seemed to be one of the areas I could meaningfully apply technology to connect with something I'm passionate about and learn something new in the process. I've previously written about <a href="https://damianwalsh.co.uk/posts/cultivating-a-digital-garden/">cultivating a digital garden</a> to achieve these aims. One of the concepts I came across while researching the idea was the <a href="https://en.wikipedia.org/wiki/Memex">Memex</a>, proposed by <a href="https://en.wikipedia.org/wiki/Vannevar_Bush">Vannevar Bush</a> in his 1945 article <a href="https://archive.org/details/as-we-may-think">As We May Think</a>.</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/va3amZzGRQ-160.avif 160w, /img/cache/va3amZzGRQ-320.avif 320w, /img/cache/va3amZzGRQ-480.avif 480w, /img/cache/va3amZzGRQ-640.avif 640w, /img/cache/va3amZzGRQ-960.avif 960w, /img/cache/va3amZzGRQ-1280.avif 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><source type="image/webp" srcset="/img/cache/va3amZzGRQ-160.webp 160w, /img/cache/va3amZzGRQ-320.webp 320w, /img/cache/va3amZzGRQ-480.webp 480w, /img/cache/va3amZzGRQ-640.webp 640w, /img/cache/va3amZzGRQ-960.webp 960w, /img/cache/va3amZzGRQ-1280.webp 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/va3amZzGRQ-160.png" alt="Illustration of a Memex device, showing a desk with built-in screens, microfilm readers, and a mechanical system for retrieving and linking information." width="1280" height="1074" srcset="/img/cache/va3amZzGRQ-160.png 160w, /img/cache/va3amZzGRQ-320.png 320w, /img/cache/va3amZzGRQ-480.png 480w, /img/cache/va3amZzGRQ-640.png 640w, /img/cache/va3amZzGRQ-960.png 960w, /img/cache/va3amZzGRQ-1280.png 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"></picture></div><figcaption class="meta">Theoretical Memex (memory index) device</figcaption></figure><p>Bush envisioned a device that would act as a personal knowledge repository, capable of storing and organising books, records, and other information while automatically creating connections between them—essentially serving as a personalised library system. This concept seemed useful for applying to one of the challenges with physical media collections like <a href="https://damianwalsh.co.uk/music-collection/">music</a> and <a href="https://damianwalsh.co.uk/reading-list/">books</a>: as collections grow larger, they become increasingly difficult to organise, navigate, and use to retrieve the ideas and emotions contained within them.</p><h2 id="eleventy" tabindex="-1">Eleventy</h2><p>To turn this concept into a working application that would help me reconnect with my music collection, I turned to <a href="https://www.11ty.dev/">Eleventy</a>, a static site generator. I had a basic working knowledge of Eleventy before developing the latest iteration of this website in January 2025—learning more was the motivating factor in choosing it. Fortunately, it turned out to be well-suited to this type of task and has an active, supportive community around it.</p><p>The rest of this document outlines my approach, decisions made along the way, challenges encountered and solutions found, including some code examples. Rather than a technical how-to guide, think of it as a living document of release notes tracking the progress and evolution of ideas.</p><h2 id="version-1%3A-proof-of-concept" tabindex="-1">Version 1: Proof of concept</h2><p><time class="meta" datetime="2025-01">January 2025</time></p><p>So, in summary, here's where I stood at the outset: Spotify Wrapped galvanised me into action and Bush's Memex concept signposted the direction I wanted to move in.</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/6bCOP_Nppj-160.avif 160w, /img/cache/6bCOP_Nppj-320.avif 320w, /img/cache/6bCOP_Nppj-480.avif 480w, /img/cache/6bCOP_Nppj-640.avif 640w, /img/cache/6bCOP_Nppj-960.avif 960w, /img/cache/6bCOP_Nppj-1280.avif 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><source type="image/webp" srcset="/img/cache/6bCOP_Nppj-160.webp 160w, /img/cache/6bCOP_Nppj-320.webp 320w, /img/cache/6bCOP_Nppj-480.webp 480w, /img/cache/6bCOP_Nppj-640.webp 640w, /img/cache/6bCOP_Nppj-960.webp 960w, /img/cache/6bCOP_Nppj-1280.webp 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/6bCOP_Nppj-160.jpeg" alt="A photograph of the authors CDs and vinyl records in storage boxes." width="1280" height="960" srcset="/img/cache/6bCOP_Nppj-160.jpeg 160w, /img/cache/6bCOP_Nppj-320.jpeg 320w, /img/cache/6bCOP_Nppj-480.jpeg 480w, /img/cache/6bCOP_Nppj-640.jpeg 640w, /img/cache/6bCOP_Nppj-960.jpeg 960w, /img/cache/6bCOP_Nppj-1280.jpeg 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"></picture></div><figcaption class="meta">My music collection</figcaption></figure><p><strong>Things I know:</strong></p><ul><li>I have approximately 500 records—CDs from 1991–2015 and vinyl from 2017–present—that I want to organise meaningfully. I don't have purchase dates for most of the collection.</li><li>I want to build my own system, incorporating automation using tools and services that align with <a href="https://damianwalsh.co.uk/colophon">my values</a>, learning something through the process.</li></ul><p><strong>Assumptions:</strong></p><ul><li>APIs can provide the data and be used to create the automated connections needed for a personalised library system.</li><li>I can master Eleventy sufficiently to make it serve my needs.</li></ul><h3 id="library-classification" tabindex="-1">Library classification</h3><p>Libraries employ <a href="https://en.wikipedia.org/wiki/Library_classification">classification systems</a> to organise materials on shelves and in catalogues and indexes. Each item gets a call number indicating its location within the system. In record shops, you encounter a <a href="https://en.wikipedia.org/wiki/Faceted_classification">faceted classification</a> system that separates vinyl from CDs and organises records by genre (like Rock and Pop), then sorts them alphabetically by artist.</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/uHeqztHcN0-160.avif 160w, /img/cache/uHeqztHcN0-320.avif 320w, /img/cache/uHeqztHcN0-480.avif 480w, /img/cache/uHeqztHcN0-640.avif 640w, /img/cache/uHeqztHcN0-960.avif 960w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), 70.87vw"><source type="image/webp" srcset="/img/cache/uHeqztHcN0-160.webp 160w, /img/cache/uHeqztHcN0-320.webp 320w, /img/cache/uHeqztHcN0-480.webp 480w, /img/cache/uHeqztHcN0-640.webp 640w, /img/cache/uHeqztHcN0-960.webp 960w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/uHeqztHcN0-160.jpeg" alt=" A card catalogue in the University of Graz Library. Source: https://www.newworldencyclopedia.org/" width="960" height="640" srcset="/img/cache/uHeqztHcN0-160.jpeg 160w, /img/cache/uHeqztHcN0-320.jpeg 320w, /img/cache/uHeqztHcN0-480.jpeg 480w, /img/cache/uHeqztHcN0-640.jpeg 640w, /img/cache/uHeqztHcN0-960.jpeg 960w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), 70.87vw"></picture><picture><source type="image/avif" srcset="/img/cache/qOB7z0r5uB-160.avif 160w, /img/cache/qOB7z0r5uB-320.avif 320w, /img/cache/qOB7z0r5uB-480.avif 480w, /img/cache/qOB7z0r5uB-640.avif 640w, /img/cache/qOB7z0r5uB-960.avif 960w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), 70.87vw"><source type="image/webp" srcset="/img/cache/qOB7z0r5uB-160.webp 160w, /img/cache/qOB7z0r5uB-320.webp 320w, /img/cache/qOB7z0r5uB-480.webp 480w, /img/cache/qOB7z0r5uB-640.webp 640w, /img/cache/qOB7z0r5uB-960.webp 960w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/qOB7z0r5uB-160.jpeg" alt=" Vinyl records, CDs, and cassette tapes displayed in a record shop. Source: https://unsplash.com/" width="960" height="640" srcset="/img/cache/qOB7z0r5uB-160.jpeg 160w, /img/cache/qOB7z0r5uB-320.jpeg 320w, /img/cache/qOB7z0r5uB-480.jpeg 480w, /img/cache/qOB7z0r5uB-640.jpeg 640w, /img/cache/qOB7z0r5uB-960.jpeg 960w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), 70.87vw"></picture></div><figcaption class="meta">Library classification systems</figcaption></figure><p>The record industry uses its own system of identifiers called ISRC (International Standard Recording Code), but these aren't readily accessible. Instead, barcodes and label catalogue numbers printed on sleeves and discs—which identify specific versions of releases—can be used to connect physical collections with APIs and create a digital library organised similarly to record shops.</p><h3 id="api-comparison" tabindex="-1">API comparison</h3><p>There are a range of APIs that provide metadata to help organise and catalogue a library of music releases. The question is which one to choose. I picked several and tried to compare the relative benefits of each:</p><table><thead><tr><th></th><th><a href="https://www.discogs.com/developers">Discogs</a></th><th><a href="https://musicbrainz.org/doc/MusicBrainz_API">MusicBrainz</a></th><th><a href="https://developer.spotify.com/documentation/web-api">Spotify</a></th></tr></thead><tbody><tr><td><strong>Physical media focus</strong></td><td>Excellent</td><td>Good</td><td>Limited</td></tr><tr><td><strong>Data completeness</strong></td><td>Extensive physical release data, high accuracy for vinyl/CD</td><td>High for basic metadata, community-maintained</td><td>Comprehensive for streaming content, limited physical media data</td></tr><tr><td><strong>API rate limits</strong></td><td>60 requests/minute authenticated</td><td>1 request/sec for anonymous, 4/sec authenticated</td><td>Several tiers based on API quota</td></tr><tr><td><strong>Community contribution</strong></td><td>Moderated submissions</td><td>Open editing</td><td>Closed system</td></tr><tr><td><strong>Cost</strong></td><td>Free for non-commercial use</td><td>Free, open source</td><td>Free tier available</td></tr></tbody></table><p>Discogs appears to best fit my needs and aligns with one of my overarching principles for this project: using services that strike a balance between public good and commercial interests.</p><h3 id="selecting-metadata" tabindex="-1">Selecting metadata</h3><p>Taking one of my favourite records as an example: Brian Eno's <a href="https://damianwalsh.co.uk/music-collection/releases/another-green-world-brian-eno-vinyl">Another Green World</a>. Using the barcode printed on the sleeve (0602557703887), I can search <a href="https://www.discogs.com/">Discogs</a> and see the resulting <a href="https://www.discogs.com/release/11176407-Eno-Another-Green-World">URL</a> reveals its release ID (11176407). With this ID, I can fetch information about this specific release at the command line:</p><pre class="language-bash" tabindex="0"><code class="language-bash"><span class="token function">curl</span> https://api.discogs.com/releases/11176407 --user-agent <span class="token string">"FooBarApp/3.0"</span></code></pre><p>The API returns a wealth of information in JSON format. From this data, I can cherry-pick the essential key/value pairs to display and organise releases in my collection according to format, genre, release year, and artist. Here's a simplified version of the response showing these fields:</p><pre class="language-json" tabindex="0"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"year"</span><span class="token operator">:</span> <span class="token number">2017</span><span class="token punctuation">,</span>
    <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token string">"https://www.discogs.com/release/11176407-Eno-Another-Green-World"</span><span class="token punctuation">,</span>
    <span class="token property">"formats"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Vinyl"</span><span class="token punctuation">,</span>
            <span class="token property">"descriptions"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"LP"</span><span class="token punctuation">,</span>
                <span class="token string">"Album"</span><span class="token punctuation">,</span>
                <span class="token string">"Reissue"</span><span class="token punctuation">,</span>
                <span class="token string">"Remastered"</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"180 gram"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"videos"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">"uri"</span><span class="token operator">:</span> <span class="token string">"https://www.youtube.com/watch?v=bNwhtnaoVZU"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"genres"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"Electronic"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"tracklist"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">"position"</span><span class="token operator">:</span> <span class="token string">"A1"</span><span class="token punctuation">,</span>
            <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Sky Saw"</span><span class="token punctuation">,</span>
            <span class="token property">"duration"</span><span class="token operator">:</span> <span class="token string">"3:25"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre><h3 id="release-dates" tabindex="-1">Release dates</h3><p>Release dates are a bit of a minefield. While they reliably follow the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format (YYYY-MM-DD), entries can contain partial dates (YYYY or YYYY-MM), and release dates vary between regions like the US and UK. Since my vinyl collection consists mainly of reissues, the dates returned by the API reflect when the reissue was published rather than original release dates. Some degree of imprecision doesn't bother me—this isn't meant to be an encyclopedia. What matters most is having at least the <em>original</em> release year—it allows me to access personal memories by consulting my library and playing records from specific years.</p><h3 id="global-data-files" tabindex="-1">Global Data Files</h3><p>Before the internet, online databases, and standardised cataloguing protocols, libraries relied on a physical <a href="https://en.wikipedia.org/wiki/Library_catalog">library catalogue</a> system. This used <a href="https://en.wikipedia.org/wiki/Index_card">index cards</a> to record key details about each item, making it easy to find and retrieve materials. Following this principle, I use a <a href="https://www.11ty.dev/docs/data-global/">Global Data File</a> to organise my collection—each entry functions like an index card, with the release ID serving as its call number.</p><pre class="language-js" tabindex="0"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string-property property">"artist"</span><span class="token operator">:</span> <span class="token string">"Brian Eno"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Another Green World"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"format"</span><span class="token operator">:</span> <span class="token string">"Vinyl"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"release_id"</span><span class="token operator">:</span> <span class="token number">11176407</span><span class="token punctuation">,</span>
  <span class="token string-property property">"first_released"</span><span class="token operator">:</span> <span class="token string">"1975-11-14"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"favourite"</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>In a separate Global Data File, I configure the <a href="https://www.11ty.dev/docs/plugins/fetch/">Fetch plugin</a> to manage data requests. The plugin caches data locally to avoid bombarding the API with requests for assets including JSON, HTML, images, videos, etc. Walking through the code, here's how I fetch data from the Discogs API:</p><ul><li>Import Node packages to manage environment variables, handle API requests, and perform asynchronous file operations</li><li>Set up Discogs API token and user agent from environment variables for authentication</li></ul><pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">import</span> <span class="token string">"dotenv/config"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> EleventyFetch <span class="token keyword">from</span> <span class="token string">"@11ty/eleventy-fetch"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> promises <span class="token keyword">as</span> fs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'fs'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">DISCOGS_TOKEN</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DISCOGS_TOKEN</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">DISCOGS_USER_AGENT</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">USER_AGENT</span><span class="token punctuation">;</span></code></pre><p>Firstly, add a 1-second delay between API calls to respect Discogs' rate limits, and cache responses locally for 24 hours.</p><pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">delay</span> <span class="token operator">=</span> <span class="token parameter">ms</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchWithRateLimit</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">EleventyFetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token string">"1d"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fetchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'Authorization'</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Discogs token=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">DISCOGS_TOKEN</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token string-property property">'User-Agent'</span><span class="token operator">:</span> <span class="token constant">DISCOGS_USER_AGENT</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Next, read the library catalogue, which contains index cards with details about each item.</p><pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> localData <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'_data/musicCollection.json'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> myCollection <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> releases <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>myCollection<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>fetchReleaseDetails<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> releases <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error processing music collection:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">releases</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Finally, details are fetched from the Discogs API using the release IDs, transforming everything into a consistent format that can be used in collections and templates.</p><pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchReleaseDetails</span><span class="token punctuation">(</span><span class="token parameter">release</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>release<span class="token punctuation">.</span>release_id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'No Discogs ID provided for release:'</span><span class="token punctuation">,</span> release<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> release<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> releaseUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.discogs.com/releases/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>release<span class="token punctuation">.</span>release_id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> releaseDetails <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchWithRateLimit</span><span class="token punctuation">(</span>releaseUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> uniqueFormats <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>release<span class="token punctuation">,</span>
      <span class="token literal-property property">year</span><span class="token operator">:</span> releaseDetails<span class="token punctuation">.</span>year<span class="token punctuation">,</span>
      <span class="token literal-property property">notes</span><span class="token operator">:</span> releaseDetails<span class="token punctuation">.</span>notes<span class="token punctuation">,</span>
      <span class="token literal-property property">released</span><span class="token operator">:</span> releaseDetails<span class="token punctuation">.</span>released<span class="token punctuation">,</span>
      <span class="token literal-property property">genres</span><span class="token operator">:</span> releaseDetails<span class="token punctuation">.</span>genres <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">uri</span><span class="token operator">:</span> releaseDetails<span class="token punctuation">.</span>uri<span class="token punctuation">,</span>
      <span class="token literal-property property">videos</span><span class="token operator">:</span> releaseDetails<span class="token punctuation">.</span>videos<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">video</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> video<span class="token punctuation">.</span>uri<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">formats</span><span class="token operator">:</span> <span class="token punctuation">(</span>releaseDetails<span class="token punctuation">.</span>formats <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> format</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>uniqueFormats<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>format<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          uniqueFormats<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>format<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
          acc<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> format<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            <span class="token literal-property property">descriptions</span><span class="token operator">:</span> format<span class="token punctuation">.</span>descriptions
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> acc<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">tracklist</span><span class="token operator">:</span> <span class="token punctuation">(</span>releaseDetails<span class="token punctuation">.</span>tracklist <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">track</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">position</span><span class="token operator">:</span> track<span class="token punctuation">.</span>position<span class="token punctuation">,</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> track<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        <span class="token literal-property property">duration</span><span class="token operator">:</span> track<span class="token punctuation">.</span>duration
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error fetching details for </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>release<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> release<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><h3 id="collections" tabindex="-1">Collections</h3><p>The <a href="https://www.11ty.dev/docs/collections-api/">Collections API</a> can be used to access and organise data. I use this feature to organise my music library in a variety of ways: grouping releases by artist, sorting by genre and format, organising by release year and creating related content connections. Collections are powerful because they let you transform and arrange content in ways that suit your specific needs.</p><p>For example, this collection organises music releases by year, handling various date formats and categorising releases by year. The <code>parseDate</code> function handles three date formats: year only (YYYY), year and month (YYYY-MM), and complete date (YYYY-MM-DD). When dates are incomplete, it defaults to the first day of the month or year.</p><pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">parseDate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dateStr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dateStr<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> parts <span class="token operator">=</span> dateStr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// If only year is provided</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>parts<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// If year and month are provided</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>parts<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// If complete date is provided</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> parts<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>The <code>releaseYears</code> collection performs several tasks: it extracts years from the music data, prioritising first released date, removes duplicates, sorts chronologically, and groups releases by year.</p><pre class="language-js" tabindex="0"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addCollection</span><span class="token punctuation">(</span><span class="token string">"releaseYears"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">collectionApi</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> musicData <span class="token operator">=</span> collectionApi<span class="token punctuation">.</span><span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">?.</span>data<span class="token operator">?.</span>music<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>musicData <span class="token operator">||</span> <span class="token operator">!</span>musicData<span class="token punctuation">.</span>releases<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"Music data not found or invalid"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> years <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>musicData<span class="token punctuation">.</span>releases
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">release</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// Prefer first_released if available, otherwise use released</span>
      <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token function">parseDate</span><span class="token punctuation">(</span>release<span class="token punctuation">.</span>first_released<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">parseDate</span><span class="token punctuation">(</span>release<span class="token punctuation">.</span>released<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> date <span class="token operator">?</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">year</span> <span class="token operator">=></span> year <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> years<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">year</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    year<span class="token punctuation">,</span>
    <span class="token literal-property property">releases</span><span class="token operator">:</span> musicData<span class="token punctuation">.</span>releases<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">r</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// Prefer first_released if available, otherwise use released</span>
      <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token function">parseDate</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>first_released<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">parseDate</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>released<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> date <span class="token operator">&amp;&amp;</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> year<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="filters" tabindex="-1">Filters</h3><p>Eleventy provides built-in <a href="https://www.11ty.dev/docs/filters/">Filters</a> to transform data within templates, you can also create custom filters. Here's a simple filter with a modest task—extracting just the year from a date string. I use it to create links to relevant year pages from within individual release pages.</p><pre class="language-js" tabindex="0"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">"extractYear"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">dateString</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dateString<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> parts <span class="token operator">=</span> dateString<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="creating-pages-from-data" tabindex="-1">Creating pages from data</h3><p>Individual pages for artists, formats, genres, years, and releases are automatically generated using <a href="https://www.11ty.dev/docs/pagination/">pagination</a> to create multiple files from a single <a href="https://mozilla.github.io/nunjucks/">Nunjucks</a> template. The following example shows the <a href="https://yaml.org/">YAML</a> front matter that generates individual release pages for each entry in my library.</p><pre class="language-yaml" tabindex="0"><code class="language-yaml"><span class="token punctuation">---</span>
<span class="token key atrule">eleventyNavigation</span><span class="token punctuation">:</span>
  <span class="token key atrule">key</span><span class="token punctuation">:</span> <span class="token string">"{{ release.title }}"</span>
  <span class="token key atrule">parent</span><span class="token punctuation">:</span> Releases
<span class="token key atrule">eleventyComputed</span><span class="token punctuation">:</span>
  <span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"{{ release.title }} - {{ release.artist }} | Music Collection"</span>
<span class="token key atrule">pagination</span><span class="token punctuation">:</span>
  <span class="token key atrule">data</span><span class="token punctuation">:</span> collections.releases
  <span class="token key atrule">size</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">alias</span><span class="token punctuation">:</span> release
<span class="token key atrule">permalink</span><span class="token punctuation">:</span> <span class="token string">"/music-collection/releases/{{ release.title | slugify }}-{{ release.artist | slugify }}-{{ release.format | slugify }}.html"</span>
<span class="token punctuation">---</span> </code></pre><p>And from within the template itself, filters are applied to collection data to format dates and generate links to relevant artist, year, format, and genre index pages.</p><pre class="language-html" tabindex="0"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>detail__meta<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">></span></span>Artist<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/music-collection/artists/{{ release.artist | slugify }}.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ release.artist }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">></span></span>
  {% if release.released or release.first_released %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">></span></span>Release date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">></span></span>
  {% if release.released %}
  {% if release.first_released and release.first_released !== release.released %}
  {{ release.released | readableDate }} (first released: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/music-collection/years/{{ release.first_released | extractYear }}.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ release.first_released | readableDate }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>)
  {% else %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/music-collection/years/{{ release.released | extractYear }}.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ release.released | readableDate }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  {% endif %}
  {% else %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/music-collection/years/{{ release.first_released | extractYear }}.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ release.first_released | readableDate }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  {% endif %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">></span></span>
  {% endif %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">></span></span>Format<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/music-collection/formats/{{ release.format | slugify }}.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ release.format }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    {% for format in release.formats %}
    {% if format.name == release.format %}
    ({{ format.descriptions | join(", ") }})
    {% endif %}
    {% endfor %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">></span></span>
  {% if release.genres %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">></span></span>Genres<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">></span></span>{% for genre in release.genres %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/music-collection/genres/{{ genre | slugify }}.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ genre }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>{% if not loop.last %}, {% endif %}
    {% endfor %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">></span></span>
  {% endif %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">></span></span>
</code></pre><h3 id="images" tabindex="-1">Images</h3><p>Image quality from community-driven APIs like Discogs varies. What constitutes acceptable is subjective and personal. For me, the artwork is as intimately linked to my thoughts and feelings as the music itself. Using Another Green World as an example—you can see the primary image provided by the API displayed alongside the one I chose for my library. I've downloaded and hosted the API's image locally rather than hotlinking to it, since their version could change.</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/DG1HyFC5Rf-160.avif 160w, /img/cache/DG1HyFC5Rf-320.avif 320w, /img/cache/DG1HyFC5Rf-480.avif 480w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), (min-width: 740px) 480px, 65.71vw"><source type="image/webp" srcset="/img/cache/DG1HyFC5Rf-160.webp 160w, /img/cache/DG1HyFC5Rf-320.webp 320w, /img/cache/DG1HyFC5Rf-480.webp 480w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), (min-width: 740px) 480px, 65.71vw"><img loading="lazy" decoding="async" src="/img/cache/DG1HyFC5Rf-160.jpeg" alt="Cover image of Brian Eno's Another Green World album provided by the Discogs API, showing quality issues including a visible sticker and distracting reflection." width="480" height="480" srcset="/img/cache/DG1HyFC5Rf-160.jpeg 160w, /img/cache/DG1HyFC5Rf-320.jpeg 320w, /img/cache/DG1HyFC5Rf-480.jpeg 480w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), (min-width: 740px) 480px, 65.71vw"></picture><picture><source type="image/avif" srcset="/img/cache/n-4RMUBia6-160.avif 160w, /img/cache/n-4RMUBia6-320.avif 320w, /img/cache/n-4RMUBia6-480.avif 480w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), (min-width: 740px) 480px, 65.71vw"><source type="image/webp" srcset="/img/cache/n-4RMUBia6-160.webp 160w, /img/cache/n-4RMUBia6-320.webp 320w, /img/cache/n-4RMUBia6-480.webp 480w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), (min-width: 740px) 480px, 65.71vw"><img loading="lazy" decoding="async" src="/img/cache/n-4RMUBia6-160.jpeg" alt="High-quality cover image of Brian Eno's Another Green World, showing the distinctive abstract artwork without any stickers or reflections." width="480" height="480" srcset="/img/cache/n-4RMUBia6-160.jpeg 160w, /img/cache/n-4RMUBia6-320.jpeg 320w, /img/cache/n-4RMUBia6-480.jpeg 480w" sizes="(min-width: 1700px) 329px, (min-width: 1380px) calc(32vw - 209px), (min-width: 780px) calc(30.69vw - 89px), (min-width: 740px) 480px, 65.71vw"></picture></div><figcaption class="meta">Image quality comparison: API vs personal choice</figcaption></figure><p>The API's version is marred by a sticker and, on closer inspection, has a distracting reflection on the cover. To take control over quality, I select and process my own images using <a href="https://imagemagick.org/">ImageMagick</a> installed with <a href="https://brew.sh/">Homebrew</a>. Within templates, I use the Eleventy <a href="https://www.11ty.dev/docs/plugins/image/">Image</a> plugin to automatically optimise images and the built-in <a href="https://www.11ty.dev/docs/filters/slugify/">slugify</a> filter to construct paths to images.</p><h3 id="data-cascade" tabindex="-1">Data cascade</h3><p>In Eleventy, data from multiple sources merges through a process called the <a href="https://www.11ty.dev/docs/data-cascade/">Data Cascade</a> before templates are rendered. Using the library metaphor, Eleventy acts as a librarian—it consults the global data files (library catalogue) and uses the release ID (call number) to fetch data from the API, organise everything, and render templates when I run <code>npx @11ty/eleventy</code> at the command line. All this happens quickly, as Eleventy's report after building my site demonstrates: <code>Wrote 1,310 files in 43.67 seconds (33.3ms each, v3.0.0)</code>.</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/t5snlkTBNT-160.avif 160w, /img/cache/t5snlkTBNT-320.avif 320w, /img/cache/t5snlkTBNT-480.avif 480w, /img/cache/t5snlkTBNT-640.avif 640w, /img/cache/t5snlkTBNT-960.avif 960w, /img/cache/t5snlkTBNT-1280.avif 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><source type="image/webp" srcset="/img/cache/t5snlkTBNT-160.webp 160w, /img/cache/t5snlkTBNT-320.webp 320w, /img/cache/t5snlkTBNT-480.webp 480w, /img/cache/t5snlkTBNT-640.webp 640w, /img/cache/t5snlkTBNT-960.webp 960w, /img/cache/t5snlkTBNT-1280.webp 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/t5snlkTBNT-160.png" alt="A montage of screenshots showcasing the digital music collection optimised for small screens in a grid layout." width="1280" height="1071" srcset="/img/cache/t5snlkTBNT-160.png 160w, /img/cache/t5snlkTBNT-320.png 320w, /img/cache/t5snlkTBNT-480.png 480w, /img/cache/t5snlkTBNT-640.png 640w, /img/cache/t5snlkTBNT-960.png 960w, /img/cache/t5snlkTBNT-1280.png 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"></picture></div><figcaption class="meta">Templates rendered by Eleventy</figcaption></figure><h3 id="retrospective" tabindex="-1">Retrospective</h3><p>What have I learned? The concepts borrowed from Bush and libraries are worth pursuing—technology can be used to breathe new life into classic ideas.</p><p>The learning and development process has been enjoyable, rather than just a means to an end. Eleventy feels almost magical—there's no need for databases or complex frameworks. Instead, I can work with familiar web technologies (HTML, CSS &amp; JS) and closely related concepts and tools.</p><p>If I can use Eleventy to build a time machine—unlocking personal memories and feelings by revisiting any specific <a href="https://damianwalsh.co.uk/music-collection/formats/vinyl">format</a>, <a href="https://damianwalsh.co.uk/music-collection/genres/rock">genre</a>, <a href="https://damianwalsh.co.uk/music-collection/years/1994">year</a>, or <a href="https://damianwalsh.co.uk/music-collection/artists/david-bowie">artist</a> in my library and playing these records—I wonder what else I can build?</p><p>The proof of concept has triggered new ideas that provide momentum to continue development, including:</p><ul><li>Enriching API data with personal touches: highlighting standout tracks, tracking favourites over time, and adding personal reviews and memories connected to specific times, places, people, and events</li><li>Enhancing views with data visualisations (think <a href="https://informationisbeautiful.net/">Information is Beautiful</a>)</li><li>Improving data requests and error handling</li><li>Refining image processing workflows</li><li>Adding search functionality</li></ul><p>Looking back at my original motivation—disenchantment with streaming services and the tech industry's current trajectory—and comparing it to my experiences with this project brings to mind diving. Given the choice between diving into a stream or an ocean, who wouldn't choose the ocean?</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/SyYDjsYxo9-160.avif 160w, /img/cache/SyYDjsYxo9-320.avif 320w, /img/cache/SyYDjsYxo9-480.avif 480w, /img/cache/SyYDjsYxo9-640.avif 640w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><source type="image/webp" srcset="/img/cache/SyYDjsYxo9-160.webp 160w, /img/cache/SyYDjsYxo9-320.webp 320w, /img/cache/SyYDjsYxo9-480.webp 480w, /img/cache/SyYDjsYxo9-640.webp 640w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/SyYDjsYxo9-160.jpeg" alt="A photograph of a figure diving into a mirror-like ocean surface, in this context used to symbolise the journey of exploration and discovery." width="640" height="493" srcset="/img/cache/SyYDjsYxo9-160.jpeg 160w, /img/cache/SyYDjsYxo9-320.jpeg 320w, /img/cache/SyYDjsYxo9-480.jpeg 480w, /img/cache/SyYDjsYxo9-640.jpeg 640w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"></picture></div><figcaption class="meta">Image from inside cover of <a href="https://damianwalsh.co.uk/music-collection/releases/wish-you-were-here-pink-floyd-vinyl">Wish You Were Here</a><br>© Pink Floyd Music</figcaption></figure><h2 id="version-2%3A-memory-boxes" tabindex="-1">Version 2: Memory boxes</h2><p><time class="meta" datetime="2025-02">February 2025</time></p><p>After reflecting on ideas generated during the proof-of-concept development, I faced a choice: pursue the idea of enhancing views with data visualisations—an appealing design direction—or focus on something more personally meaningful. I was already well aware of music's connection to memory, but was still surprised by the cascade of memories and feelings that emerged when I organised my collection chronologically. Instead of adopting streaming platforms' one-size-fits-all organisational approach, I want to create personal pathways linking music to memory. I chose to follow the trail of ideas leading from enriching API data with memories connected to specific times, places, people, and events. This direction seemed more aligned with Bush's vision: creating a personal memory extension that, in this context, connects music to life experiences.</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/CrHJ40rPfo-160.avif 160w, /img/cache/CrHJ40rPfo-320.avif 320w, /img/cache/CrHJ40rPfo-480.avif 480w, /img/cache/CrHJ40rPfo-640.avif 640w, /img/cache/CrHJ40rPfo-960.avif 960w, /img/cache/CrHJ40rPfo-1280.avif 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><source type="image/webp" srcset="/img/cache/CrHJ40rPfo-160.webp 160w, /img/cache/CrHJ40rPfo-320.webp 320w, /img/cache/CrHJ40rPfo-480.webp 480w, /img/cache/CrHJ40rPfo-640.webp 640w, /img/cache/CrHJ40rPfo-960.webp 960w, /img/cache/CrHJ40rPfo-1280.webp 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/CrHJ40rPfo-160.jpeg" alt="A montage of personal photographs connected to specific times, places, people, and events arranged in a grid." width="1280" height="960" srcset="/img/cache/CrHJ40rPfo-160.jpeg 160w, /img/cache/CrHJ40rPfo-320.jpeg 320w, /img/cache/CrHJ40rPfo-480.jpeg 480w, /img/cache/CrHJ40rPfo-640.jpeg 640w, /img/cache/CrHJ40rPfo-960.jpeg 960w, /img/cache/CrHJ40rPfo-1280.jpeg 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"></picture></div><figcaption class="meta">Building connections between music, memory and emotion</figcaption></figure><p><strong>Things I know:</strong></p><p>My initial assumptions about APIs and Eleventy—that they could provide the data and create the automated connections needed for a personalised library system—have now been confirmed.</p><p><strong>Assumptions:</strong></p><p>Building on lessons learned developing the proof of concept, I can create trails of reference that link my music collection with memories.</p><h3 id="the-working-model-of-memory" tabindex="-1">The working model of memory</h3><p>The <a href="https://en.wikipedia.org/wiki/Baddeley%27s_model_of_working_memory">Working Memory Model</a>, first proposed by Baddeley and Hitch in 1974 and updated in 2001, describes how the brain processes visual and auditory information. In this model, different compartments—the phonological loop, visuo-spatial sketchpad, episodic buffer, and central executive—each handle different aspects of processing. New information is initially stored in short-term memory before being related to long-term memory. Understanding this model (at a <em>basic</em> level) casts light on how visual and spatial cues might be used alongside music to unlock memories and feelings—triggering the episodic buffer, which integrates sounds, visuals, and long-term memories into brief, temporal experiences.</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/F8DBwbAIAw-160.avif 160w, /img/cache/F8DBwbAIAw-320.avif 320w, /img/cache/F8DBwbAIAw-480.avif 480w, /img/cache/F8DBwbAIAw-640.avif 640w, /img/cache/F8DBwbAIAw-960.avif 960w, /img/cache/F8DBwbAIAw-1280.avif 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><source type="image/webp" srcset="/img/cache/F8DBwbAIAw-160.webp 160w, /img/cache/F8DBwbAIAw-320.webp 320w, /img/cache/F8DBwbAIAw-480.webp 480w, /img/cache/F8DBwbAIAw-640.webp 640w, /img/cache/F8DBwbAIAw-960.webp 960w, /img/cache/F8DBwbAIAw-1280.webp 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/F8DBwbAIAw-160.png" alt="Flowchart diagram showing how working memory processes information through interconnected components." width="1280" height="742" srcset="/img/cache/F8DBwbAIAw-160.png 160w, /img/cache/F8DBwbAIAw-320.png 320w, /img/cache/F8DBwbAIAw-480.png 480w, /img/cache/F8DBwbAIAw-640.png 640w, /img/cache/F8DBwbAIAw-960.png 960w, /img/cache/F8DBwbAIAw-1280.png 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"></picture></div><figcaption class="meta">The Working Memory Model. Baddeley and Hitch (1974, 2001)</figcaption></figure><h3 id="zettelkasten" tabindex="-1">Zettelkasten</h3><p>One of the concepts I came across while researching how to practically apply this idea to connect my music collection with people, places, and events was <a href="https://en.wikipedia.org/wiki/Zettelkasten">Zettelkasten</a>—which, in addition to being a word that sounds good enough to eat—is a method of <a href="https://en.wikipedia.org/wiki/Note-taking">note-taking</a> and <a href="https://en.wikipedia.org/wiki/Personal_knowledge_management">personal knowledge management</a> used for research, study, and writing. This system was also the original inspiration for the <a href="https://en.wikipedia.org/wiki/History_of_wikis">invention of wikis</a>.</p><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/RiG92siNEJ-160.avif 160w, /img/cache/RiG92siNEJ-320.avif 320w, /img/cache/RiG92siNEJ-480.avif 480w, /img/cache/RiG92siNEJ-640.avif 640w, /img/cache/RiG92siNEJ-960.avif 960w, /img/cache/RiG92siNEJ-1280.avif 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><source type="image/webp" srcset="/img/cache/RiG92siNEJ-160.webp 160w, /img/cache/RiG92siNEJ-320.webp 320w, /img/cache/RiG92siNEJ-480.webp 480w, /img/cache/RiG92siNEJ-640.webp 640w, /img/cache/RiG92siNEJ-960.webp 960w, /img/cache/RiG92siNEJ-1280.webp 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/RiG92siNEJ-160.png" alt="Schematic diagram illustrating how knowledge can be interconnected in a flexible information management system." width="1280" height="960" srcset="/img/cache/RiG92siNEJ-160.png 160w, /img/cache/RiG92siNEJ-320.png 320w, /img/cache/RiG92siNEJ-480.png 480w, /img/cache/RiG92siNEJ-640.png 640w, /img/cache/RiG92siNEJ-960.png 960w, /img/cache/RiG92siNEJ-1280.png 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"></picture></div><figcaption class="meta">Zettelkasten knowledge management system.<br>Image by David B. Clear, licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license">CC BY-SA 4.0</a></figcaption></figure><p>I use this method to extend my music collection's data structure by creating additional <a href="https://www.11ty.dev/docs/data-global/">Global Data Files</a> to include people, places, and events.</p><p><strong>people.json</strong></p><pre class="language-json" tabindex="0"><code class="language-json"> <span class="token property">"steve-snasdell"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Steve"</span><span class="token punctuation">,</span>
    <span class="token property">"relationship"</span><span class="token operator">:</span> <span class="token string">"University friend"</span>
  <span class="token punctuation">}</span></code></pre><p><strong>places.json</strong></p><pre class="language-json" tabindex="0"><code class="language-json"><span class="token property">"university"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"location"</span><span class="token operator">:</span> <span class="token string">"University of Plymouth (Exeter College of Art and Design)"</span><span class="token punctuation">,</span>
    <span class="token property">"coordinates"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"lat"</span><span class="token operator">:</span> <span class="token number">50.7099</span><span class="token punctuation">,</span>
      <span class="token property">"lng"</span><span class="token operator">:</span> <span class="token number">-3.5135</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span></code></pre><p><strong>musicCollection.json</strong></p><pre class="language-json" tabindex="0"><code class="language-json"> <span class="token punctuation">{</span>
    <span class="token property">"artist"</span><span class="token operator">:</span> <span class="token string">"Supergrass"</span><span class="token punctuation">,</span>
    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"I Should Coco"</span><span class="token punctuation">,</span>
    <span class="token property">"format"</span><span class="token operator">:</span> <span class="token string">"CD"</span><span class="token punctuation">,</span>
    <span class="token property">"release_id"</span><span class="token operator">:</span> <span class="token number">4147466</span><span class="token punctuation">,</span>
    <span class="token property">"favourite"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">"memories"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"people"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"steve-snasdell"</span><span class="token punctuation">,</span>
        <span class="token string">"alastair-jennings"</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"places"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"university"</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p>This structure prevents duplicating person and place data across multiple entries in the main data file. Instead, it allows any number of people, places, or events to be linked using ID arrays, while making all the data accessible to templates through the <a href="https://www.11ty.dev/docs/config/">Configuration</a> file in the root directory.</p><pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">const</span> peopleData <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./_data/people.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addGlobalData</span><span class="token punctuation">(</span><span class="token string">"people"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> peopleData<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> placesData <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./_data/places.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addGlobalData</span><span class="token punctuation">(</span><span class="token string">"places"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> placesData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>With this basic setup, I can display people, places, and events connected to specific releases on templates. As I discovered earlier, <a href="https://www.11ty.dev/docs/filters/">Filters</a> can handle simple transformations like alphabetic and date sorting, but more interestingly, they can also be used to create pathways to other releases that share the same people, places, and events.</p><pre class="language-js" tabindex="0"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">"releasesWithMemoryConnections"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">allReleases<span class="token punctuation">,</span> currentRelease</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>currentRelease<span class="token punctuation">.</span>memories<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// Get the release's memories</span>
  <span class="token keyword">const</span> currentPeople <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>currentRelease<span class="token punctuation">.</span>memories<span class="token punctuation">.</span>people <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> currentPlaces <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>currentRelease<span class="token punctuation">.</span>memories<span class="token punctuation">.</span>places <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Filter releases that share people or places, excluding the current release</span>
  <span class="token keyword">const</span> relatedReleases <span class="token operator">=</span> allReleases<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">release</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>release<span class="token punctuation">.</span>release_id <span class="token operator">===</span> currentRelease<span class="token punctuation">.</span>release_id<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>release<span class="token punctuation">.</span>memories<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token comment">// Check for shared people</span>
    <span class="token keyword">const</span> sharedPeople <span class="token operator">=</span> release<span class="token punctuation">.</span>memories<span class="token punctuation">.</span>people<span class="token operator">?.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">person</span> <span class="token operator">=></span>
      currentPeople<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Check for shared places</span>
    <span class="token keyword">const</span> sharedPlaces <span class="token operator">=</span> release<span class="token punctuation">.</span>memories<span class="token punctuation">.</span>places<span class="token operator">?.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">place</span> <span class="token operator">=></span>
      currentPlaces<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>place<span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> sharedPeople <span class="token operator">||</span> sharedPlaces<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Sort by artist, then title</span>
  <span class="token keyword">return</span> relatedReleases<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> artistCompare <span class="token operator">=</span> a<span class="token punctuation">.</span>artist<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>artist<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>artistCompare <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> artistCompare<span class="token punctuation">;</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>title<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="maps" tabindex="-1">Maps</h3><p><a href="https://en.wikipedia.org/wiki/Spatial_memory">Spatial memory</a>, the visuo-spatial sketchpad in Baddeley and Hitch's model, plays a role in how we process and recall experiences. <a href="https://en.wikipedia.org/wiki/Cognitive_map">Cognitive maps</a>—complex networks of spatial relationships between landmarks, paths, and distances—help us navigate both physical spaces and through memory. I wanted to harness this natural connection between location and memory by incorporating maps into the memory box feature.</p><p>I evaluated several map providers that offer programmatic access, comparing their benefits and drawbacks against my requirements and values:</p><table><thead><tr><th><strong>Provider</strong></th><th><strong>Pros</strong></th><th><strong>Cons</strong></th></tr></thead><tbody><tr><td><a href="https://leafletjs.com/">Leaflet</a> + <a href="https://www.openstreetmap.org/">OpenStreetMap</a></td><td>Full interactivity possible, open source</td><td>More complex setup - managing tile servers etc.</td></tr><tr><td><a href="https://www.mapbox.com/">Mapbox</a></td><td>Simple implementation, generous free tier (50,000 map loads/month)</td><td>Credit card details required to access API key</td></tr></tbody></table><p>Although Leaflet appeared to offer more customisation options and is fully open source, I chose Mapbox because it seemed easier for me to implement and suits my current needs for static maps with location markers while leaving the door open for adding interactive features later.</p><p>First, I configure the <a href="https://www.11ty.dev/docs/plugins/fetch/">Fetch plugin</a> in a separate <a href="https://www.11ty.dev/docs/data-global/">Global Data File</a> to manage requests for static map graphics from the <a href="https://docs.mapbox.com/api/overview/">Mapbox API</a>. The code places markers at specified coordinates and creates map URLs for both single and multiple locations. By caching the map images, I avoid unnecessary API requests and minimise potential costs—though exceeding the free tier limits is unlikely given my collection size and map requirements.</p><pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">import</span> EleventyFetch <span class="token keyword">from</span> <span class="token string">"@11ty/eleventy-fetch"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">generateStaticMap</span><span class="token punctuation">(</span><span class="token parameter">places<span class="token punctuation">,</span> mapboxToken</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Filter out places without coordinates</span>
  <span class="token keyword">const</span> markers <span class="token operator">=</span> places<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">place</span> <span class="token operator">=></span> place<span class="token punctuation">.</span>coordinates<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>markers<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> width <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>

  <span class="token comment">// Create marker overlay string</span>
  <span class="token keyword">const</span> markerString <span class="token operator">=</span> markers
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">place</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">pin-s+FF0000(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>place<span class="token punctuation">.</span>coordinates<span class="token punctuation">.</span>lng<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>place<span class="token punctuation">.</span>coordinates<span class="token punctuation">.</span>lat<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> mapUrl<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>markers<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Single marker - use center and zoom</span>
    <span class="token keyword">const</span> marker <span class="token operator">=</span> markers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    mapUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerString<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>marker<span class="token punctuation">.</span>coordinates<span class="token punctuation">.</span>lng<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>marker<span class="token punctuation">.</span>coordinates<span class="token punctuation">.</span>lat<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,12/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?access_token=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mapboxToken<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Multiple markers - use auto</span>
    mapUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>markerString<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/auto/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?padding=50&amp;access_token=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mapboxToken<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> imageBuffer <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">EleventyFetch</span><span class="token punctuation">(</span>mapUrl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token string">"1d"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"buffer"</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> imageBuffer<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Error generating map:"</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Then, a <a href="https://www.11ty.dev/docs/shortcodes/">Shortcode</a> in my configuration makes the function available in templates to generate a map for the places associated with the release.</p><pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> generateStaticMap <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./_data/maps.js'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">eleventyConfig</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  eleventyConfig<span class="token punctuation">.</span><span class="token function">addShortcode</span><span class="token punctuation">(</span><span class="token string">"memoryMap"</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">places</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> mapboxToken <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MAPBOX_TOKEN</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mapboxToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"No Mapbox token found"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> mapData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">generateStaticMap</span><span class="token punctuation">(</span>places<span class="token punctuation">,</span> mapboxToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mapData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Return map HTML with base64 encoded image</span>
    <span class="token keyword">const</span> base64Image <span class="token operator">=</span> mapData<span class="token punctuation">.</span>imageBuffer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'base64'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;img src="data:image/png;base64,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>base64Image<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"
           alt="Map showing memory locations"
           width="660" height="330" class="places__map"></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="release-template" tabindex="-1">Release template</h3><p>Finally, on the actual release pages, the visual design used to window-dress everything happening in the background draws inspiration from various diagrams illustrating both Baddeley and Hitch's Working Memory Model and the Zettelkasten concept discovered during research. Layouts adapt to variations in screen size and the type and number of memories displayed.</p><p>Examples of release pages with memory box feature:</p><ul><li><a href="https://damianwalsh.co.uk/music-collection/releases/orbital-orbital-cd.html">Orbital - Orbital</a></li><li><a href="https://damianwalsh.co.uk/music-collection/releases/stanley-road-paul-weller-vinyl.html">Stanley Road - Paul Weller</a></li><li><a href="https://damianwalsh.co.uk/music-collection/releases/i-should-coco-supergrass-cd.html">I Should Coco - Supergrass</a></li></ul><figure><div class="screenshots"><picture><source type="image/avif" srcset="/img/cache/u7wsvYhY5A-160.avif 160w, /img/cache/u7wsvYhY5A-320.avif 320w, /img/cache/u7wsvYhY5A-480.avif 480w, /img/cache/u7wsvYhY5A-640.avif 640w, /img/cache/u7wsvYhY5A-960.avif 960w, /img/cache/u7wsvYhY5A-1280.avif 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><source type="image/webp" srcset="/img/cache/u7wsvYhY5A-160.webp 160w, /img/cache/u7wsvYhY5A-320.webp 320w, /img/cache/u7wsvYhY5A-480.webp 480w, /img/cache/u7wsvYhY5A-640.webp 640w, /img/cache/u7wsvYhY5A-960.webp 960w, /img/cache/u7wsvYhY5A-1280.webp 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"><img loading="lazy" decoding="async" src="/img/cache/u7wsvYhY5A-160.png" alt="Screenshots showing memory box layouts at mobile and desktop screen sizes." width="1280" height="693" srcset="/img/cache/u7wsvYhY5A-160.png 160w, /img/cache/u7wsvYhY5A-320.png 320w, /img/cache/u7wsvYhY5A-480.png 480w, /img/cache/u7wsvYhY5A-640.png 640w, /img/cache/u7wsvYhY5A-960.png 960w, /img/cache/u7wsvYhY5A-1280.png 1280w" sizes="(min-width: 1700px) 680px, (min-width: 1380px) calc(64vw - 395px), (min-width: 780px) calc(62.07vw - 166px), 70.87vw"></picture></div><figcaption class="meta">Templates rendered by Eleventy</figcaption></figure><h3 id="retrospective-1" tabindex="-1">Retrospective</h3><p>I've only mapped a couple of releases so far, and completing the process will take time. That's perfectly fine—like listening to music, I want to move at my own pace taking time to reflect and enjoy this project. Some of my working practices might be considered &quot;agile&quot; but this isn't a sprint, and there's no quarterly product review looming on the horizon. I view this as an enabling release that lays the foundation for future development, which might include:</p><ul><li>Creating an admin interface that writes to data files, making it easier to establish bi-directional links and using collections to categorise releases by people, places, and events—similar to the existing system for artists, genres, and years.</li><li>Incorporating personal photographs by leveraging the existing people, place, and year data structures.</li><li>Enhancing the map functionality to create an interactive narrative showing the connections between music, people, and places.</li></ul><h2 id="acknowledgements" tabindex="-1">Acknowledgements</h2><p>Several members of the Eleventy community have published valuable resources that helped me get started:</p><dl><dt><a href="https://bell.bz/">Andy Bell</a></dt><dd><em>Original author of <a href="https://learn-eleventy.pages.dev/">Learn Eleventy from Scratch</a> (now maintained by <a href="https://github.com/uncenter/">Uncenter</a>).</em></dd><dt><a href="https://thinkdobecreate.com/">Stephanie Eckles</a></dt><dd><em>Author of <a href="https://11ty.rocks/">11ty.Rocks</a>.</em></dd><dt><a href="https://sia.codes/">Sia Karamalegos</a></dt><dd><em>Organiser of the <a href="https://11tymeetup.dev/">Eleventy Meetup</a>.</em></dd><dt><a href="https://www.zachleat.com/">Zach Leatherman</a></dt><dd><em>Creator/maintainer of <a href="https://www.11ty.dev/">Eleventy</a>.</em></dd><dt><a href="https://bobmonsour.com/">Bob Monsour</a></dt><dd><em>Author of <a href="ttps://11tybundle.dev/">The 11ty Bundle</a> website and newsletter.</em></dd></dl><h2 id="footnote" tabindex="-1">Footnote</h2><p>If you've read this far and found it useful, that makes me happy. If you'd like to offer advice on how I could improve my approach, please feel free—you can figure out how to get in touch with me easily enough. ↘</p></div><aside><header><h2 class="title">Read in Feb 2025</h2></header><ul role="list" class="aside__list"><li><a href="/reading-list/works/brain-of-the-firm-stafford-beer.html" class="aside__item"><picture><source type="image/avif" srcset="/img/cache/Ib8ESNyXGP-160.avif 160w, /img/cache/Ib8ESNyXGP-320.avif 320w, /img/cache/Ib8ESNyXGP-480.avif 480w, /img/cache/Ib8ESNyXGP-640.avif 640w" sizes="60px"><source type="image/webp" srcset="/img/cache/Ib8ESNyXGP-160.webp 160w, /img/cache/Ib8ESNyXGP-320.webp 320w, /img/cache/Ib8ESNyXGP-480.webp 480w, /img/cache/Ib8ESNyXGP-640.webp 640w" sizes="60px"><img loading="lazy" decoding="async" src="/img/cache/Ib8ESNyXGP-160.jpeg" alt="Brain of the Firm" class="aside__image" width="640" height="960" srcset="/img/cache/Ib8ESNyXGP-160.jpeg 160w, /img/cache/Ib8ESNyXGP-320.jpeg 320w, /img/cache/Ib8ESNyXGP-480.jpeg 480w, /img/cache/Ib8ESNyXGP-640.jpeg 640w" sizes="60px"></picture><div class="aside__details"><h3 class="title">Brain of the Firm</h3><p class="meta">Stafford Beer</p></div><svg width="36" height="36" viewBox="-6 -6 36 36" class="aside__action action icon-stroke" aria-hidden="true"><use xlink:href="#icon-chevron-right"></use></svg></a></li><li><a href="/reading-list/works/the-player-of-games-iain-m-banks.html" class="aside__item"><picture><source type="image/avif" srcset="/img/cache/XI1wQw_XOR-160.avif 160w, /img/cache/XI1wQw_XOR-320.avif 320w, /img/cache/XI1wQw_XOR-480.avif 480w, /img/cache/XI1wQw_XOR-640.avif 640w" sizes="60px"><source type="image/webp" srcset="/img/cache/XI1wQw_XOR-160.webp 160w, /img/cache/XI1wQw_XOR-320.webp 320w, /img/cache/XI1wQw_XOR-480.webp 480w, /img/cache/XI1wQw_XOR-640.webp 640w" sizes="60px"><img loading="lazy" decoding="async" src="/img/cache/XI1wQw_XOR-160.jpeg" alt="The Player Of Games" class="aside__image" width="640" height="1010" srcset="/img/cache/XI1wQw_XOR-160.jpeg 160w, /img/cache/XI1wQw_XOR-320.jpeg 320w, /img/cache/XI1wQw_XOR-480.jpeg 480w, /img/cache/XI1wQw_XOR-640.jpeg 640w" sizes="60px"></picture><div class="aside__details"><h3 class="title">The Player Of Games</h3><p class="meta">Iain M. Banks</p></div><svg width="36" height="36" viewBox="-6 -6 36 36" class="aside__action action icon-stroke" aria-hidden="true"><use xlink:href="#icon-chevron-right"></use></svg></a></li></ul></aside></article><nav aria-label="pagination"><a href="/posts/dynamic-colour-palettes-with-oklch-and-css-custom-properties/" class="icon-link prev"><svg width="36" height="36" viewBox="-6 -6 36 36" class="action icon-stroke" aria-hidden="true"><use xlink:href="#icon-chevron-left"></use></svg> <span class="visually-hidden">Previous:</span> Dynamic colour palettes with OKLCH and CSS custom properties</a></nav></main><footer class="site-footer"><hr><div class="site-footer__inner"><ul role="list" class="footer-links"><li><a href="/resume.html"><small>Résumé</small></a></li><li><a href="/colophon.html"><small>Colophon</small></a></li><li><a href="/uses.html"><small>Uses</small></a></li></ul><ul role="list" class="social-links"><li><a href="https://github.com/damianwalsh" title="Github"><svg width="44" height="44" viewBox="0 0 48 48" class="icon-fill"><use xlink:href="#icon-github"></use></svg> <span class="visually-hidden">Github</span></a></li><li><a href="https://www.linkedin.com/in/damianw/" title="LinkedIn"><svg width="44" height="44" viewBox="0 0 48 48" class="icon-fill"><use xlink:href="#icon-linkedin"></use></svg> <span class="visually-hidden">LinkedIn</span></a></li><li><a href="https://mastodon.social/@damianwalsh" title="Mastodon"><svg width="44" height="44" viewBox="0 0 48 48" class="icon-fill"><use xlink:href="#icon-mastodon"></use></svg> <span class="visually-hidden">Mastodon</span></a></li></ul></div></footer><svg width="0" height="0" aria-hidden="true"><defs><g id="icon-github"><path fill-rule="evenodd" d="M24.015 6C14.053 6 6 14.25 6 24.456c0 8.159 5.16 15.065 12.318 17.509.895.184 1.223-.397 1.223-.886 0-.428-.03-1.894-.03-3.422-5.011 1.1-6.054-2.2-6.054-2.2-.806-2.14-2-2.69-2-2.69-1.64-1.13.12-1.13.12-1.13 1.82.122 2.774 1.895 2.774 1.895 1.61 2.81 4.206 2.016 5.25 1.527.149-1.191.626-2.016 1.133-2.475-3.997-.428-8.202-2.016-8.202-9.106 0-2.016.715-3.666 1.849-4.95-.179-.458-.805-2.353.18-4.889 0 0 1.52-.489 4.95 1.895a17.052 17.052 0 0 1 4.504-.612c1.521 0 3.072.214 4.503.612 3.43-2.384 4.952-1.895 4.952-1.895.984 2.536.357 4.431.178 4.89 1.164 1.283 1.85 2.933 1.85 4.95 0 7.089-4.205 8.647-8.232 9.105.656.58 1.223 1.68 1.223 3.423 0 2.475-.03 4.461-.03 5.072 0 .489.328 1.07 1.223.886C36.84 39.52 42 32.615 42 24.456 42.03 14.25 33.947 6 24.015 6Z" clip-rule="evenodd"></path></g><g id="icon-linkedin"><path fill-rule="evenodd" d="M6 8.579C6 7.155 7.191 6 8.66 6h30.68C40.809 6 42 7.155 42 8.579V39.42C42 40.846 40.809 42 39.34 42H8.66C7.191 42 6 40.846 6 39.421V8.58ZM16.65 36V19.806h-5.335V36h5.334Zm-2.668-18.405c1.86 0 3.018-1.243 3.018-2.797C16.965 13.209 15.842 12 14.018 12 12.193 12 11 13.209 11 14.798c0 1.554 1.158 2.797 2.947 2.797h.035ZM25.242 36H20s.069-15.052 0-16.61h5.242v2.351l-.035.058h.035v-.058C25.938 20.61 27.185 19 29.965 19 33.416 19 36 21.374 36 26.476V36h-5.241v-8.886c0-2.233-.759-3.756-2.656-3.756-1.448 0-2.31 1.027-2.689 2.019-.138.355-.172.85-.172 1.347V36Z" clip-rule="evenodd"></path></g><g id="icon-mastodon"><path fill-rule="evenodd" d="M31.658 33.963c4.836-.568 9.046-3.502 9.576-6.182.833-4.223.765-10.305.765-10.305 0-8.243-5.486-10.66-5.486-10.66C33.748 5.566 28.998 5.04 24.064 5h-.121c-4.934.04-9.68.566-12.446 1.816 0 0-5.486 2.417-5.486 10.66 0 .5-.002 1.025-.005 1.573-.008 1.52-.016 3.205.029 4.965.199 8.062 1.5 16.007 9.07 17.98 3.491.91 6.488 1.1 8.901.969 4.377-.239 6.834-1.538 6.834-1.538l-.144-3.127s-3.128.971-6.64.853c-3.48-.118-7.155-.37-7.718-4.577a8.494 8.494 0 0 1-.078-1.18s3.417.823 7.746 1.018c2.648.12 5.13-.152 7.652-.449Zm3.87-5.866v-9.982c0-2.04-.527-3.66-1.587-4.86-1.093-1.2-2.524-1.814-4.3-1.814-2.055 0-3.611.778-4.64 2.334L24 15.425l-1-1.65c-1.03-1.556-2.586-2.334-4.641-2.334-1.776 0-3.207.615-4.3 1.814-1.06 1.2-1.587 2.82-1.587 4.86v9.982h4.016v-9.688c0-2.042.873-3.079 2.618-3.079 1.93 0 2.898 1.23 2.898 3.661v5.303h3.992V18.99c0-2.431.968-3.66 2.898-3.66 1.745 0 2.618 1.036 2.618 3.078v9.688h4.016Z" clip-rule="evenodd"></path></g><g id="icon-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></g><g id="icon-chevron-right" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></g><g id="icon-chevron-left" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></g><g id="icon-settings" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></g><g id="icon-menu" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></g><g id="icon-heart" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></g><g id="icon-play" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></g><g id="icon-download" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></g><g id="icon-map-pin" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></g></defs></svg><script type="module" src="/dist/Oorte_22xb.js"></script><!--
    🐰 Last build 2025-03-13T18:46:28.408Z.

    "I almost wish I hadn't gone down that rabbit-hole—
     and yet—and yet—it's rather curious..."
     - Lewis Carroll. Alice’s Adventures in Wonderland.
  --></body></html>