<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description" content="{{ metadata.description }}" />
    <meta name="generator" content="Eleventy" />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="{{ '/images/apple-touch-icon.png' | url }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{{ '/images/favicon-32x32.png' | url }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="{{ '/images/favicon-16x16.png' | url }}"
    />

    {%- set currentUrl = page.url -%}

    <title>

    {%- if currentUrl == '/' -%}
      {{ metadata.name }} | {{ metadata.description }} 
    {%- endif -%}
    
    {%- if currentUrl != '/' -%}
      {%- for post in collections.work -%}
        {{ post.data.brand }} {{ post.data.title }}
      {%- endfor -%}
    {%- endif -%}

    </title>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LV7DN5930B"></script>
    
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-LV7DN5930B');
    </script>

    <script src="{{ '/theme-toggle.js' | url }}"></script>

    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">

    <script type="module">

      import PhotoSwipeLightbox from 'https://unpkg.com/photoswipe/dist/photoswipe-lightbox.esm.js';
    
      const lightbox = new PhotoSwipeLightbox({
        gallery: '#insurance-before, #intercept-surveys, #design-concepts, #insurance-after',
        children: 'a',
        bgOpacity: 1.0,
        pswpModule: () => import('https://unpkg.com/photoswipe'),
      });
    
      lightbox.init();
    </script>

    <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
    
    <link rel="stylesheet" href="https://unpkg.com/photoswipe@5.2.2/dist/photoswipe.css">

    <link rel="stylesheet" href="{{ '/site.css' | url }}" />
  </head>

  <body class="bg-white font-sans font-normal text-base leading-normal tracking-normal text-slate-500 lg:text-lg dark:bg-slate-700 dark:text-slate-300">
    <nav class="bg-slate-100 py-4 dark:bg-slate-800">
      <div class="container flex items-center justify-end h-10">
        
        {%- if currentUrl != '/' -%}
        <div class="grow">
          <a href="/" class="text-xs uppercase font-semibold tracking-wide md:text-sm lg:text-base">Damian Walsh</a> 
        </div>
        {%- endif -%}

        <a href="mailto:damianwalsh@me.com?subject=ðŸ‘‹" class="mr-4">Contact</a>
        <label class="sr-only" for="theme-toggle">Theme</label>
        <button class="theme-toggle" id="theme-toggle" title="Toggles Light and Dark Mode" aria-label="light" aria-live="polite">
          <span class="dark:hidden">
            <svg class="w-6 h-6 stroke-2 stroke-slate-500 fill-slate-300 hover:stroke-blue-500 hover:fill-blue-300 transition-colors duration-150 ease-in-out" xmlns="http://www.w3.org/2000/svg"><path d="M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10ZM12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </span>
          <span class="hidden dark:inline">
            <svg class="w-6 h-6 stroke-2 stroke-slate-300 fill-slate-500 hover:stroke-blue-300 hover:fill-blue-500 transition-colors duration-150 ease-in-out" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79Z" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </span>
        </button>
      </div>
    </nav>
    <main>

    {{ content | safe }}

    </main>

    {%- if currentUrl != '/404.html' -%}
    
    <footer class="py-14 md:py-16 xl:px-24 container">
      <div class="rounded p-4 bg-slate-100 dark:bg-slate-800 text-center lg:w-5/6 lg:mx-auto">
          <h3 class="text-xl font-semibold pb-2 text-slate-800 lg:text-2xl dark:text-slate-50">Want to find out more?</h3>
          <p class="pb-4">I'd be happy to discuss my work and how I can help you in more detail.</p>
          <a href="https://calendly.com/damianwalsh" class="inline-flex font-semibold text-white bg-violet-500 px-4 py-3 rounded inline-block hover:bg-violet-400 transition-colors ease-in-out"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2 mr-2 stroke-white/75 fill-white/20"><path d="M19 4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"/><path stroke-linecap="round" stroke-linejoin="round" d="M16 2v4M8 2v4m-5 4h18M5 4h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z"/></svg>Schedule a meeting</a>
      </div>
    </footer>
    {%- endif -%}

  </body>
</html>
